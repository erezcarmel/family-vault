module.exports=[6669,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(69240),e=a.i(3650),f=a.i(21929);let g=[{id:"primary_care",title:"Primary Care"},{id:"specialist",title:"Specialist"},{id:"pharmacy",title:"Pharmacy"},{id:"dental",title:"Dental"},{id:"vision",title:"Vision"}];function h(){let a,[h,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)("all"),x=(0,d.createClient)();(0,c.useEffect)(()=>{y()},[]);let y=async()=>{try{let{data:{user:a}}=await x.auth.getUser();if(a){let{data:b}=await x.from("families").select("id").eq("user_id",a.id).single();b&&(o(b.id),await z(b.id),await A(b.id))}}catch(a){console.error("Error loading data:",a)}finally{q(!1)}},z=async a=>{let{data:b,error:c}=await x.from("family_members").select("*").eq("family_id",a).order("name");c?console.error("Error loading members:",c):k(b||[])},A=async a=>{let b=await x.from("healthcare_records").select("*").eq("family_id",a).order("created_at",{ascending:!1});if(b.error){console.error("Error loading healthcare records:",b.error),m([]);return}m(b.data||[])},B=async a=>{if(confirm("Are you sure you want to delete this healthcare record?"))try{let{error:b}=await x.from("healthcare_records").delete().eq("id",a);if(b)throw b;n&&await A(n)}catch(a){console.error("Error deleting record:",a),alert("Failed to delete healthcare record. Please try again.")}},C=a=>{u(a),s(!0)},D=()=>{u(null),s(!0)};return p?(0,b.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-600 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-pink-500 rounded-lg flex items-center justify-center",children:(0,b.jsx)(e.FontAwesomeIcon,{icon:f.faHeartPulse,className:"text-white text-xl"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Healthcare"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Manage healthcare information for your family"})]})]}),h.length>0&&(0,b.jsxs)("button",{onClick:D,className:"btn-primary",children:[(0,b.jsx)(e.FontAwesomeIcon,{icon:f.faPlus,className:"mr-2"}),"Add Healthcare Record"]})]}),0===h.length?(0,b.jsxs)("div",{className:"text-center py-20 card",children:[(0,b.jsx)(e.FontAwesomeIcon,{icon:f.faHeartPulse,className:"text-6xl text-gray-300 mb-4"}),(0,b.jsx)("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"No Family Members"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Add family members first to manage their healthcare information."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsxs)("button",{onClick:()=>w("all"),className:`px-4 py-2 rounded-lg border transition-all ${"all"===v?"bg-pink-600 text-white border-pink-600 shadow-md":"bg-white text-gray-900 border-gray-200 hover:border-pink-400 hover:bg-pink-50"}`,children:[(0,b.jsx)("span",{className:"font-medium",children:"All"}),(0,b.jsxs)("span",{className:"ml-2 text-sm opacity-75",children:["(",l.length,")"]})]}),g.map(a=>{let c=l.filter(b=>b.provider_type===a.id).length;return(0,b.jsxs)("button",{onClick:()=>w(a.id),className:`px-4 py-2 rounded-lg border transition-all ${v===a.id?"bg-pink-600 text-white border-pink-600 shadow-md":"bg-white text-gray-900 border-gray-200 hover:border-pink-400 hover:bg-pink-50"}`,children:[(0,b.jsx)("span",{className:"font-medium",children:a.title}),(0,b.jsxs)("span",{className:"ml-2 text-sm opacity-75",children:["(",c,")"]})]},a.id)})]})}),0===(a="all"===v?l:l.filter(a=>a.provider_type===v)).length?(0,b.jsxs)("div",{className:"text-center py-12 card",children:[(0,b.jsx)(e.FontAwesomeIcon,{icon:f.faHeartPulse,className:"text-6xl text-gray-300 mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:0===l.length?"No Healthcare Records Yet":"No Records in This Category"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:0===l.length?"Start by adding your first healthcare provider":"Try selecting a different category or add a new record"}),(0,b.jsxs)("button",{onClick:D,className:"btn-primary",children:[(0,b.jsx)(e.FontAwesomeIcon,{icon:f.faPlus,className:"mr-2"}),0===l.length?"Add Your First Record":"Add Record"]})]}):(0,b.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(a=>(0,b.jsx)(i,{record:a,member:h.find(b=>b.id===a.member_id),onEdit:C,onDelete:B},a.id))})]}),(0,b.jsx)(j,{isOpen:r,onClose:()=>{s(!1),u(null)},onSave:async()=>{n&&await A(n),s(!1),u(null)},record:t,members:h,familyId:n})]})}function i({record:a,member:d,onEdit:h,onDelete:i}){let[j,k]=(0,c.useState)(!1),l=a.doctor_name||a.specialty||a.phone||a.email||a.address||a.policy_number||a.group_number||a.notes;return(0,b.jsxs)("div",{className:"card hover:shadow-lg transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a.provider_name||"Healthcare Provider"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:g.find(b=>b.id===a.provider_type)?.title||a.provider_type}),d&&(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:d.name})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("button",{onClick:()=>h(a),className:"text-indigo-600 hover:text-indigo-700 p-2 rounded-lg hover:bg-indigo-50 transition-colors",children:(0,b.jsx)(e.FontAwesomeIcon,{icon:f.faEdit})}),(0,b.jsx)("button",{onClick:()=>i(a.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-colors",children:(0,b.jsx)(e.FontAwesomeIcon,{icon:f.faTrash})})]})]}),l&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsxs)("button",{onClick:()=>k(!j),className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-900",children:[(0,b.jsx)("span",{children:"View Details"}),(0,b.jsx)(e.FontAwesomeIcon,{icon:j?f.faChevronUp:f.faChevronDown})]}),j&&(0,b.jsxs)("div",{className:"mt-3 space-y-2 bg-gray-50 rounded-lg p-4",children:[a.doctor_name&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Doctor:"}),(0,b.jsx)("span",{className:"text-gray-900 font-medium",children:a.doctor_name})]}),a.specialty&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Specialty:"}),(0,b.jsx)("span",{className:"text-gray-900 font-medium",children:a.specialty})]}),a.phone&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,b.jsx)("span",{className:"text-gray-900 font-medium",children:a.phone})]}),a.email&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,b.jsx)("span",{className:"text-gray-900 font-medium",children:a.email})]}),a.address&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Address:"}),(0,b.jsxs)("span",{className:"text-gray-900 font-medium text-right",children:[a.address,a.city&&`, ${a.city}`,a.state&&`, ${a.state}`,a.zip_code&&` ${a.zip_code}`]})]}),a.policy_number&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Policy #:"}),(0,b.jsx)("span",{className:"text-gray-900 font-medium",children:a.policy_number})]}),a.group_number&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Group #:"}),(0,b.jsx)("span",{className:"text-gray-900 font-medium",children:a.group_number})]}),a.notes&&(0,b.jsx)("div",{className:"pt-2 border-t border-gray-200",children:(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Notes:"}),(0,b.jsx)("p",{className:"text-gray-900 mt-1",children:a.notes})]})})]})]})]})}function j({isOpen:a,onClose:h,onSave:i,record:j,members:k,familyId:l}){let[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)("primary_care"),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)(""),[M,N]=(0,c.useState)(""),O=(0,d.createClient)();(0,c.useEffect)(()=>{a&&(j?(n(j.member_id),p(j.provider_type),r(j.provider_name||""),t(j.doctor_name||""),v(j.specialty||""),x(j.phone||""),z(j.email||""),B(j.address||""),D(j.city||""),F(j.state||""),H(j.zip_code||""),J(j.policy_number||""),L(j.group_number||""),N(j.notes||"")):P())},[a,j]);let P=()=>{n(k.length>0?k[0].id:""),p("primary_care"),r(""),t(""),v(""),x(""),z(""),B(""),D(""),F(""),H(""),J(""),L(""),N("")},Q=async a=>{if(a.preventDefault(),m&&l){if(!q.trim())return void alert("Please enter a provider name");try{if(j){let{error:a}=await O.from("healthcare_records").update({provider_id:null,provider_name:q.trim(),provider_type:o,doctor_name:s||null,specialty:u||null,phone:w||null,email:y||null,address:A||null,city:C||null,state:E||null,zip_code:G||null,policy_number:I||null,group_number:K||null,notes:M||null,updated_at:new Date().toISOString()}).eq("id",j.id);if(a)throw a;j.id}else{let{data:a,error:b}=await O.from("healthcare_records").insert({family_id:l,member_id:m,provider_id:null,provider_name:q.trim(),provider_type:o,doctor_name:s||null,specialty:u||null,phone:w||null,email:y||null,address:A||null,city:C||null,state:E||null,zip_code:G||null,policy_number:I||null,group_number:K||null,notes:M||null}).select().single();if(b)throw b;a.id}P(),i()}catch(a){console.error("Error saving healthcare record:",a),alert("Failed to save healthcare record. Please try again.")}}};return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-white/75 z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:j?"Edit Healthcare Record":"Add Healthcare Record"}),(0,b.jsx)("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,b.jsx)(e.FontAwesomeIcon,{icon:f.faTimes,className:"text-xl"})})]}),(0,b.jsxs)("form",{onSubmit:Q,className:"p-6 space-y-6",children:[!j&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Family Member *"}),(0,b.jsxs)("select",{value:m,onChange:a=>n(a.target.value),className:"input-field",required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select a family member"}),k.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provider Type *"}),(0,b.jsx)("select",{value:o,onChange:a=>{p(a.target.value)},className:"input-field",required:!0,children:g.map(a=>(0,b.jsx)("option",{value:a.id,children:a.title},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provider Name *"}),(0,b.jsx)("input",{type:"text",value:q,onChange:a=>r(a.target.value),className:"input-field",placeholder:"Enter provider name",required:!0})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doctor Name"}),(0,b.jsx)("input",{type:"text",value:s,onChange:a=>t(a.target.value),className:"input-field",placeholder:"Dr. John Smith"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialty"}),(0,b.jsx)("input",{type:"text",value:u,onChange:a=>v(a.target.value),className:"input-field",placeholder:"Cardiology, Pediatrics, etc."})]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,b.jsx)("input",{type:"tel",value:w,onChange:a=>x(a.target.value),className:"input-field",placeholder:"(555) 123-4567"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,b.jsx)("input",{type:"email",value:y,onChange:a=>z(a.target.value),className:"input-field",placeholder:"doctor@example.com"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,b.jsx)("input",{type:"text",value:A,onChange:a=>B(a.target.value),className:"input-field",placeholder:"123 Main St"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,b.jsx)("input",{type:"text",value:C,onChange:a=>D(a.target.value),className:"input-field",placeholder:"New York"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),(0,b.jsx)("input",{type:"text",value:E,onChange:a=>F(a.target.value),className:"input-field",placeholder:"NY"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),(0,b.jsx)("input",{type:"text",value:G,onChange:a=>H(a.target.value),className:"input-field",placeholder:"10001"})]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Policy Number"}),(0,b.jsx)("input",{type:"text",value:I,onChange:a=>J(a.target.value),className:"input-field",placeholder:"Insurance policy number"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group Number"}),(0,b.jsx)("input",{type:"text",value:K,onChange:a=>L(a.target.value),className:"input-field",placeholder:"Insurance group number"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,b.jsx)("textarea",{value:M,onChange:a=>N(a.target.value),className:"input-field",rows:3,placeholder:"Additional notes..."})]}),(0,b.jsxs)("div",{className:"flex space-x-3 pt-6 border-t border-gray-200",children:[(0,b.jsx)("button",{type:"button",onClick:h,className:"flex-1 btn-secondary",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"flex-1 btn-primary",children:j?"Update Record":"Add Record"})]})]})]})}):null}a.s(["default",()=>h,"dynamic",0,"force-dynamic"])}];

//# sourceMappingURL=app_dashboard_healthcare_page_tsx_049fa183._.js.map