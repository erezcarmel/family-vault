(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21341,18271,e=>{"use strict";var t=e.i(43476),a=e.i(49721),s=e.i(68757),n=e.i(71645);function r({asset:e,onEdit:r,onDelete:l}){let[i,c]=(0,n.useState)(!1),[o,d]=(0,n.useState)(!1),m="digital_assets"===e.category&&"email_accounts"===e.type,u="digital_assets"===e.category&&"computer_access"===e.type,x="digital_assets"===e.category&&"phone_access"===e.type,h=Object.entries(e.data).filter(([e])=>!["provider_name","account_type","account_number","loan_amount","interest_rate","loan_term","monthly_payment","term_length","email","password","recovery_email","notes","device_name","computer_user","computer_password","phone_name","phone_owner","phone_pin"].includes(e)),p="liabilities"===e.category,g=[];return p&&(e.data.loan_amount&&g.push(["Loan Amount",e.data.loan_amount]),e.data.interest_rate&&g.push(["Interest Rate",e.data.interest_rate]),e.data.loan_term&&g.push(["Loan Term",e.data.loan_term]),e.data.monthly_payment&&g.push(["Monthly Payment",e.data.monthly_payment]),e.data.term_length&&g.push(["Term Length",e.data.term_length])),(0,t.jsxs)("div",{className:"card hover:shadow-lg transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.data.email}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Email Account"}),e.data.recovery_email&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Recovery: ",e.data.recovery_email]})]}):u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.data.device_name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Computer Access"}),e.data.computer_user&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["User: ",e.data.computer_user]}),e.data.computer_password&&(0,t.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Password: ",o?e.data.computer_password:"••••••••"]}),(0,t.jsx)("button",{onClick:()=>d(!o),className:"text-xs text-indigo-600 hover:text-indigo-700 underline",children:o?"Hide":"Show"})]})]}):x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.data.phone_name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Mobile Phone"}),e.data.phone_owner&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Owner: ",e.data.phone_owner]}),e.data.phone_pin&&(0,t.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["PIN Code: ",o?e.data.phone_pin:"••••••••"]}),(0,t.jsx)("button",{onClick:()=>d(!o),className:"text-xs text-indigo-600 hover:text-indigo-700 underline",children:o?"Hide":"Show"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.data.provider_name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.data.account_type}),e.data.account_number&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Account: ****",e.data.account_number.slice(-4)]})]}),p&&e.data.loan_amount&&(0,t.jsxs)("p",{className:"text-sm font-medium text-gray-900 mt-2",children:["Amount: ",e.data.loan_amount]}),p&&e.data.interest_rate&&(0,t.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Rate: ",e.data.interest_rate]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>r(e),className:"text-indigo-600 hover:text-indigo-700 p-2 rounded-lg hover:bg-indigo-50 transition-colors",children:(0,t.jsx)(a.FontAwesomeIcon,{icon:s.faEdit})}),(0,t.jsx)("button",{onClick:()=>l(e.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-colors",children:(0,t.jsx)(a.FontAwesomeIcon,{icon:s.faTrash})})]})]}),(h.length>0||g.length>2||m&&e.data.notes)&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("button",{onClick:()=>c(!i),className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-900",children:[(0,t.jsx)("span",{children:"Additional Details"}),(0,t.jsx)(a.FontAwesomeIcon,{icon:i?s.faChevronUp:s.faChevronDown})]}),i&&(0,t.jsxs)("div",{className:"mt-3 space-y-2 bg-gray-50 rounded-lg p-4",children:[p&&g.slice(2).map(([e,a])=>(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-600",children:[e,":"]}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:String(a)})]},e)),m&&e.data.notes&&(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Notes:"}),(0,t.jsx)("p",{className:"text-gray-900 mt-1 whitespace-pre-wrap",children:String(e.data.notes)})]}),h.map(([e,a])=>(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-600",children:[e,":"]}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:String(a)})]},e))]})]})]})}e.s(["default",()=>r],21341);var l=e.i(20755);function i({category:e,subCategory:r,onDataExtracted:l}){let[i,c]=(0,n.useState)(null),[o,d]=(0,n.useState)(!1),m=(0,n.useRef)(null),u=async t=>{d(!0);try{let a=await fetch("/api/scan-document",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:t,category:e,type:r})}),s=await a.json();if(!a.ok)throw Error(s.error||"Failed to scan document");s.data&&(l(s.data),alert("Document scanned successfully! Please review and edit the extracted data."))}catch(e){console.error("Error scanning document:",e),alert(`Failed to scan document: ${e.message}`)}finally{d(!1)}};return(0,t.jsxs)("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold text-indigo-900 flex items-center",children:[(0,t.jsx)(a.FontAwesomeIcon,{icon:s.faCamera,className:"mr-2"}),"Smart Document Scanner"]}),(0,t.jsx)("p",{className:"text-xs text-indigo-700 mt-1",children:"Upload a document to automatically extract information"})]})}),(0,t.jsx)("input",{ref:m,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onloadend=()=>{c(e.result)},e.readAsDataURL(t)}},className:"hidden"}),(0,t.jsxs)("div",{className:"space-y-3",children:[i&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:i,alt:"Uploaded document",className:"w-full max-h-48 object-contain rounded-lg border border-indigo-200"}),(0,t.jsx)("button",{type:"button",onClick:()=>c(null),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-700",children:(0,t.jsx)(a.FontAwesomeIcon,{icon:s.faTimes,className:"text-xs"})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>m.current?.click(),disabled:o,className:"flex-1 btn-secondary disabled:opacity-50",children:[(0,t.jsx)(a.FontAwesomeIcon,{icon:s.faCamera,className:"mr-2"}),i?"Change Document":"Upload Document"]}),i&&(0,t.jsx)("button",{type:"button",onClick:()=>u(i),disabled:o||!r,className:"flex-1 btn-primary disabled:opacity-50",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.FontAwesomeIcon,{icon:s.faSpinner,className:"mr-2 animate-spin"}),"Scanning..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.FontAwesomeIcon,{icon:s.faCamera,className:"mr-2"}),"Scan Document"]})})]}),!r&&i&&(0,t.jsx)("p",{className:"text-xs text-amber-700 bg-amber-50 border border-amber-200 rounded px-3 py-2",children:"Please select a sub-category first to enable document scanning"})]})]})}function c({isOpen:e,onClose:r,onSave:c,asset:o,subCategories:d,category:m}){let[u,x]=(0,n.useState)(""),[h,p]=(0,n.useState)(""),[g,y]=(0,n.useState)(""),[j,v]=(0,n.useState)(""),[b,f]=(0,n.useState)(""),[_,N]=(0,n.useState)(""),[w,S]=(0,n.useState)([]),[C,k]=(0,n.useState)(""),[A,F]=(0,n.useState)(""),[P,E]=(0,n.useState)([]),[q,I]=(0,n.useState)([]),[T,D]=(0,n.useState)(!1),[L,O]=(0,n.useState)(!1),[R,U]=(0,n.useState)(""),[M,B]=(0,n.useState)(""),[$,H]=(0,n.useState)(""),[J,K]=(0,n.useState)(""),[Y,z]=(0,n.useState)(""),[W,G]=(0,n.useState)(""),[Q,V]=(0,n.useState)(""),[X,Z]=(0,n.useState)(!1),[ee,et]=(0,n.useState)(""),[ea,es]=(0,n.useState)(""),[en,er]=(0,n.useState)(""),[el,ei]=(0,n.useState)(""),[ec,eo]=(0,n.useState)(""),[ed,em]=(0,n.useState)(!1),[eu,ex]=(0,n.useState)(""),[eh,ep]=(0,n.useState)(""),[eg,ey]=(0,n.useState)(""),[ej,ev]=(0,n.useState)(""),[eb,ef]=(0,n.useState)(!1),[e_,eN]=(0,n.useState)([]),[ew,eS]=(0,n.useState)(!1),eC=(0,l.createClient)();(0,n.useEffect)(()=>{if(o){x(o.data.provider_name),y(o.data.account_type),f(o.data.account_number),N(o.type),o.data.loan_amount&&U(o.data.loan_amount),o.data.interest_rate&&B(o.data.interest_rate),o.data.loan_term&&H(o.data.loan_term),o.data.monthly_payment&&K(o.data.monthly_payment),o.data.term_length&&z(o.data.term_length),o.data.email&&G(o.data.email),o.data.password&&(V(o.data.password),Z(!0)),o.data.recovery_email&&et(o.data.recovery_email),o.data.notes&&es(o.data.notes),o.data.device_name&&er(o.data.device_name),o.data.computer_user&&ei(o.data.computer_user),o.data.computer_password&&eo(o.data.computer_password),o.data.phone_name&&ex(o.data.phone_name),o.data.phone_owner&&ep(o.data.phone_owner),o.data.phone_pin&&ev(o.data.phone_pin);let e=["provider_name","account_type","account_number","loan_amount","interest_rate","loan_term","monthly_payment","term_length","email","password","recovery_email","notes","device_name","computer_user","computer_password","phone_name","phone_owner","phone_pin"];S(Object.entries(o.data).filter(([t])=>!e.includes(t)).map(([e,t])=>({name:e,value:String(t)})))}else eP()},[o,e]),(0,n.useEffect)(()=>{_&&(ek(_),eA(_),"phone_access"===_&&eF())},[_]);let ek=async e=>{D(!0);try{let{data:t,error:a}=await eC.from("providers").select("*").eq("category",m).eq("type",e).order("name");if(a)throw a;E(t||[])}catch(e){console.error("Error loading providers:",e),E([])}finally{D(!1)}},eA=async e=>{O(!0);try{let{data:t,error:a}=await eC.from("account_types").select("*").eq("category",m).eq("type",e).order("name");if(a)throw a;I(t||[])}catch(e){console.error("Error loading account types:",e),I([])}finally{O(!1)}},eF=async()=>{eS(!0);try{let{data:{user:e}}=await eC.auth.getUser();if(e){let{data:t}=await eC.from("families").select("id").eq("user_id",e.id).single();if(t){let{data:e,error:a}=await eC.from("family_members").select("id, name").eq("family_id",t.id).order("name");if(a)throw a;eN(e||[])}}}catch(e){console.error("Error loading family members:",e),eN([])}finally{eS(!1)}},eP=()=>{x(""),p(""),y(""),v(""),f(""),N(""),S([]),k(""),F(""),E([]),I([]),U(""),B(""),H(""),K(""),z(""),G(""),V(""),Z(!1),et(""),es(""),er(""),ei(""),eo(""),em(!1),ex(""),ep(""),ey(""),ev(""),ef(!1)};return e?(0,t.jsx)("div",{className:"fixed inset-0 bg-white/75 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:o?"Edit Asset":"Add New Asset"}),(0,t.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)(a.FontAwesomeIcon,{icon:s.faTimes,className:"text-xl"})})]}),(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!_)return;let t="__custom__"===u?h:u;if("digital_assets"===m&&"email_accounts"===_){if(!W)return void alert("Please enter an email address")}else if("digital_assets"===m&&"computer_access"===_){if(!en)return void alert("Please enter a device name");if(!el)return void alert("Please enter a user name");if(!ec)return void alert("Please enter a password")}else if("digital_assets"===m&&"phone_access"===_){if(!eu)return void alert("Please enter a phone name");if(!eh&&!eg)return void alert("Please select or enter a phone owner");if(!ej)return void alert("Please enter a PIN code")}else if(!t)return void alert("Please enter a provider name");let a={};"digital_assets"===m&&"email_accounts"===_?(W&&(a.email=W),X&&Q&&(a.password=Q),ee&&(a.recovery_email=ee),ea&&(a.notes=ea)):"digital_assets"===m&&"computer_access"===_?(a.device_name=en,a.computer_user=el,a.computer_password=ec):"digital_assets"===m&&"phone_access"===_?(a.phone_name=eu,a.phone_owner="__custom__"===eh?eg:eh,a.phone_pin=ej):(a.provider_name=t,a.account_type="__custom__"===g?j:g,a.account_number=b,"liabilities"===m&&(R&&(a.loan_amount=R),M&&(a.interest_rate=M),$&&(a.loan_term=$),J&&(a.monthly_payment=J),Y&&(a.term_length=Y)),w.forEach(e=>{a[e.name]=e.value})),c(_,a),eP()},className:"p-6 space-y-6",children:[("digital_assets"!==m||"email_accounts"!==_&&"computer_access"!==_&&"phone_access"!==_)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i,{category:m,subCategory:_,onDataExtracted:e=>{e.provider_name&&x(String(e.provider_name)),e.account_type&&y(String(e.account_type)),e.account_number&&f(String(e.account_number));let t=["provider_name","account_type","account_number"],a=[];Object.entries(e).forEach(([e,s])=>{!t.includes(e)&&s&&a.push({name:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),value:String(s)})}),a.length>0&&S(a)}}),(0,t.jsx)("div",{className:"border-t border-gray-200 pt-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub-Category *"}),(0,t.jsxs)("select",{value:_,onChange:e=>N(e.target.value),className:"input-field",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select a sub-category"}),d.map(e=>(0,t.jsx)("option",{value:e.id,children:e.title},e.id))]})]}),("digital_assets"!==m||"email_accounts"!==_&&"computer_access"!==_&&"phone_access"!==_)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provider Name *"}),_&&P.length>0?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("select",{value:u,onChange:e=>{x(e.target.value),"__custom__"!==e.target.value&&p("")},className:"input-field",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select a provider"}),P.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.id)),(0,t.jsx)("option",{value:"__custom__",children:"Other (Enter manually)"})]}),"__custom__"===u&&(0,t.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),className:"input-field",placeholder:"Enter provider name",required:!0})]}):(0,t.jsx)("input",{type:"text",value:u,onChange:e=>x(e.target.value),className:"input-field",placeholder:T?"Loading providers...":"e.g., Bank of America, State Farm",disabled:T,required:!0}),!_&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Select a sub-category first to see provider options"})]}),"liabilities"!==m&&("digital_assets"!==m||"email_accounts"!==_&&"computer_access"!==_&&"phone_access"!==_)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account/Policy Type"}),_&&q.length>0?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("select",{value:g,onChange:e=>{y(e.target.value),"__custom__"!==e.target.value&&v("")},className:"input-field",children:[(0,t.jsx)("option",{value:"",children:"Select account/policy type"}),q.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.id)),(0,t.jsx)("option",{value:"__custom__",children:"Other (Enter manually)"})]}),"__custom__"===g&&(0,t.jsx)("input",{type:"text",value:j,onChange:e=>v(e.target.value),className:"input-field",placeholder:"Enter custom account/policy type"})]}):(0,t.jsx)("input",{type:"text",value:g,onChange:e=>y(e.target.value),className:"input-field",placeholder:L?"Loading types...":"e.g., Checking, Life Insurance",disabled:L}),!_&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Select a sub-category first to see account type options"})]}),("digital_assets"!==m||"email_accounts"!==_&&"computer_access"!==_&&"phone_access"!==_)&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Account Number ","digital_assets"!==m&&"*"]}),(0,t.jsx)("input",{type:"text",value:b,onChange:e=>f(e.target.value),className:"input-field",placeholder:"Enter account or policy number",required:"digital_assets"!==m})]}),"liabilities"===m&&_&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Amount"}),(0,t.jsx)("input",{type:"text",value:R,onChange:e=>U(e.target.value),className:"input-field",placeholder:"e.g., $250,000"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Rate"}),(0,t.jsx)("input",{type:"text",value:M,onChange:e=>B(e.target.value),className:"input-field",placeholder:"e.g., 3.5% or 0.035"})]}),"mortgage"===_&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Term"}),(0,t.jsx)("input",{type:"text",value:$,onChange:e=>H(e.target.value),className:"input-field",placeholder:"e.g., 30 years, 15 years"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Payment"}),(0,t.jsx)("input",{type:"text",value:J,onChange:e=>K(e.target.value),className:"input-field",placeholder:"e.g., $1,200"})]})]}),"loans"===_&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Term Length"}),(0,t.jsx)("input",{type:"text",value:Y,onChange:e=>z(e.target.value),className:"input-field",placeholder:"e.g., 5 years, 60 months"})]})]}),"digital_assets"===m&&"email_accounts"===_&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,t.jsx)("input",{type:"email",value:W,onChange:e=>G(e.target.value),className:"input-field",placeholder:"e.g., user@example.com",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",id:"enable-password",checked:X,onChange:e=>{Z(e.target.checked),e.target.checked||V("")},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,t.jsx)("label",{htmlFor:"enable-password",className:"ml-2 text-sm text-gray-700",children:"Enable password field"})]}),X&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-800",children:["⚠️ ",(0,t.jsx)("strong",{children:"Warning:"})," Saving passwords in the system is not recommended for security reasons. Consider using a dedicated password manager instead."]})}),(0,t.jsx)("input",{type:"password",value:Q,onChange:e=>V(e.target.value),className:"input-field",placeholder:"Enter password (not recommended)"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recovery Email"}),(0,t.jsx)("input",{type:"email",value:ee,onChange:e=>et(e.target.value),className:"input-field",placeholder:"e.g., recovery@example.com"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(0,t.jsx)("strong",{children:"Recovery email"})," is an alternate email address linked to this account for password recovery. By documenting this instead of the password, you can share access without revealing sensitive credentials. Account owners can reset their password via the recovery email when needed."]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,t.jsx)("textarea",{value:ea,onChange:e=>es(e.target.value),className:"input-field",placeholder:"Enter any additional notes about this email account",rows:4})]})]}),"digital_assets"===m&&"computer_access"===_&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Device Name *"}),(0,t.jsx)("input",{type:"text",value:en,onChange:e=>er(e.target.value),className:"input-field",placeholder:"e.g., Living Room Desktop, John's Laptop",required:!0}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"The name or description of the computer or device"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User *"}),(0,t.jsx)("input",{type:"text",value:el,onChange:e=>ei(e.target.value),className:"input-field",placeholder:"e.g., john_admin, administrator",required:!0}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"The username for logging into this device"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:ed?"text":"password",value:ec,onChange:e=>eo(e.target.value),className:"input-field pr-10",placeholder:"Enter device password",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>em(!ed),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-600 hover:text-gray-900",children:ed?(0,t.jsx)("span",{className:"text-sm",children:"Hide"}):(0,t.jsx)("span",{className:"text-sm",children:"Show"})})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Password will be obfuscated when viewing the asset"})]})]}),"digital_assets"===m&&"phone_access"===_&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Name *"}),(0,t.jsx)("input",{type:"text",value:eu,onChange:e=>ex(e.target.value),className:"input-field",placeholder:"e.g., John's iPhone, Mom's Samsung",required:!0}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"The name or description of the phone"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Owner *"}),ew?(0,t.jsx)("div",{className:"input-field text-gray-500",children:"Loading family members..."}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("select",{value:eh,onChange:e=>{ep(e.target.value),"__custom__"!==e.target.value&&ey("")},className:"input-field",required:!eg,children:[(0,t.jsx)("option",{value:"",children:"Select phone owner"}),e_.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.id)),(0,t.jsx)("option",{value:"__custom__",children:"Someone else"})]}),"__custom__"===eh&&(0,t.jsx)("input",{type:"text",value:eg,onChange:e=>ey(e.target.value),className:"input-field",placeholder:"Enter phone owner name",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PIN Code *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:eb?"text":"password",value:ej,onChange:e=>ev(e.target.value),className:"input-field pr-10",placeholder:"Enter phone PIN code",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>ef(!eb),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-600 hover:text-gray-900",children:eb?(0,t.jsx)("span",{className:"text-sm",children:"Hide"}):(0,t.jsx)("span",{className:"text-sm",children:"Show"})})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PIN code will be obfuscated when viewing the asset"})]})]}),("digital_assets"!==m||"email_accounts"!==_&&"computer_access"!==_&&"phone_access"!==_)&&(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Custom Fields"}),w.length>0&&(0,t.jsx)("div",{className:"space-y-2 mb-4",children:w.map((e,n)=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[e.name,":"]}),(0,t.jsx)("span",{className:"text-sm text-gray-900 ml-2",children:e.value})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{var t;return t=e.name,void S(w.filter(e=>e.name!==t))},className:"text-red-600 hover:text-red-700 ml-2",children:(0,t.jsx)(a.FontAwesomeIcon,{icon:s.faTrash})})]},n))}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)("input",{type:"text",value:C,onChange:e=>k(e.target.value),className:"input-field",placeholder:"Field name"}),(0,t.jsx)("input",{type:"text",value:A,onChange:e=>F(e.target.value),className:"input-field",placeholder:"Field value"})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>{C&&A&&(S([...w,{name:C,value:A}]),k(""),F(""))},disabled:!C||!A,className:"mt-2 btn-secondary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(a.FontAwesomeIcon,{icon:s.faPlus,className:"mr-2"}),"Add Custom Field"]})]}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-6 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"button",onClick:r,className:"flex-1 btn-secondary",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 btn-primary",children:o?"Update Asset":"Add Asset"})]})]})]})}):null}e.s(["default",()=>c],18271)},30290,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(20755),n=e.i(49721),r=e.i(68757),l=e.i(21341),i=e.i(18271);let c=[{id:"checking_saving",title:"Checking/Saving Account"},{id:"brokerage",title:"Brokerage Account"},{id:"retirement",title:"Retirement Account"}];function o(){let e,[o,d]=(0,a.useState)([]),[m,u]=(0,a.useState)(null),[x,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[v,b]=(0,a.useState)("all"),f=(0,s.createClient)();(0,a.useEffect)(()=>{_()},[]);let _=async()=>{try{let{data:{user:e}}=await f.auth.getUser();if(e){let{data:t}=await f.from("families").select("id").eq("user_id",e.id).single();t&&(u(t.id),await N(t.id))}}catch(e){console.error("Error loading data:",e)}finally{h(!1)}},N=async e=>{let{data:t,error:a}=await f.from("assets").select("*").eq("family_id",e).eq("category","money_accounts").order("created_at",{ascending:!1});a?console.error("Error loading assets:",a):d(t||[])},w=async(e,t)=>{if(m)try{if(y){let{error:a}=await f.from("assets").update({type:e,data:t,updated_at:new Date().toISOString()}).eq("id",y.id);if(a)throw a}else{let{error:a}=await f.from("assets").insert({family_id:m,category:"money_accounts",type:e,data:t});if(a)throw a}await N(m),g(!1),j(null)}catch(e){console.error("Error saving asset:",e),alert("Failed to save asset. Please try again.")}},S=async e=>{if(confirm("Are you sure you want to delete this asset?"))try{let{error:t}=await f.from("assets").delete().eq("id",e);if(t)throw t;m&&await N(m)}catch(e){console.error("Error deleting asset:",e)}},C=e=>{j(e),g(!0)},k=()=>{j(null),g(!0)};return x?(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center",children:(0,t.jsx)(n.FontAwesomeIcon,{icon:r.faDollarSign,className:"text-white text-xl"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Money Accounts"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Manage your checking, savings, and investment accounts"})]})]}),(0,t.jsxs)("button",{onClick:k,className:"btn-primary",children:[(0,t.jsx)(n.FontAwesomeIcon,{icon:r.faPlus,className:"mr-2"}),"Add Account"]})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)("button",{onClick:()=>b("all"),className:`px-4 py-2 rounded-lg border transition-all ${"all"===v?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white text-gray-900 border-gray-200 hover:border-indigo-400 hover:bg-indigo-50"}`,children:[(0,t.jsx)("span",{className:"font-medium",children:"All"}),(0,t.jsxs)("span",{className:"ml-2 text-sm opacity-75",children:["(",o.length,")"]})]}),c.map(e=>{let a=o.filter(t=>t.type===e.id).length;return(0,t.jsxs)("button",{onClick:()=>b(e.id),className:`px-4 py-2 rounded-lg border transition-all ${v===e.id?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white text-gray-900 border-gray-200 hover:border-indigo-400 hover:bg-indigo-50"}`,children:[(0,t.jsx)("span",{className:"font-medium",children:e.title}),(0,t.jsxs)("span",{className:"ml-2 text-sm opacity-75",children:["(",a,")"]})]},e.id)})]})}),0===(e="all"===v?o:o.filter(e=>e.type===v)).length?(0,t.jsxs)("div",{className:"text-center py-12 card",children:[(0,t.jsx)(n.FontAwesomeIcon,{icon:r.faDollarSign,className:"text-6xl text-gray-300 mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:0===o.length?"No Money Accounts Yet":"No Accounts in This Category"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:0===o.length?"Start by adding your first bank account or investment account":"Try selecting a different category or add a new account"}),(0,t.jsxs)("button",{onClick:k,className:"btn-primary",children:[(0,t.jsx)(n.FontAwesomeIcon,{icon:r.faPlus,className:"mr-2"}),0===o.length?"Add Your First Account":"Add Account"]})]}):(0,t.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsx)(l.default,{asset:e,onEdit:C,onDelete:S},e.id))}),(0,t.jsx)(i.default,{isOpen:p,onClose:()=>{g(!1),j(null)},onSave:w,asset:y,subCategories:c,category:"money_accounts"})]})}e.s(["default",()=>o,"dynamic",0,"force-dynamic"])}]);