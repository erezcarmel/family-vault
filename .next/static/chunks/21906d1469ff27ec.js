(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6085,e=>{"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g;let s=t.fetch,a=t.fetch.bind(t),l=t.Headers,i=t.Request,r=t.Response;e.s(["Headers",0,l,"Request",0,i,"Response",0,r,"default",0,a,"fetch",0,s])},18566,(e,t,s)=>{t.exports=e.r(76562)},23143,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(20755),l=e.i(18566),i=e.i(49721),r=e.i(68757);function n(){let[e,n]=(0,s.useState)(""),[d,o]=(0,s.useState)(""),[c,m]=(0,s.useState)(null),[u,f]=(0,s.useState)(!1),x=(0,l.useRouter)(),h=(0,a.createClient)(),y=async t=>{t.preventDefault(),m(null),f(!0);try{let{data:{user:t}}=await h.auth.getUser();if(!t)throw Error("No user found");let{data:s,error:a}=await h.from("families").insert({user_id:t.id,main_user:e,family_name:d||e}).select().single();if(a)throw a;if(s){let{error:e}=await h.from("family_users").insert({family_id:s.id,user_id:t.id,role:"admin"});if(e)throw e}x.push("/onboarding/family-tree")}catch(e){m(e.message||"An error occurred while creating your family")}finally{f(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"max-w-2xl w-full",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome to Family Vault"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Let's set up your profile"}),(0,t.jsxs)("div",{className:"flex justify-center mt-6 space-x-2",children:[(0,t.jsx)("div",{className:"h-2 w-20 rounded-full bg-indigo-600"}),(0,t.jsx)("div",{className:"h-2 w-20 rounded-full bg-gray-200"})]})]}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[c&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:c}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Full Name"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(i.FontAwesomeIcon,{icon:r.faUser,className:"text-gray-400"})}),(0,t.jsx)("input",{id:"name",type:"text",required:!0,value:e,onChange:e=>n(e.target.value),className:"input-field pl-10",placeholder:"John Doe"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"familyName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Family Name (Optional)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(i.FontAwesomeIcon,{icon:r.faUser,className:"text-gray-400"})}),(0,t.jsx)("input",{id:"familyName",type:"text",value:d,onChange:e=>o(e.target.value),className:"input-field pl-10",placeholder:"Smith"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:'e.g., "Smith" will display as "The Smith Family"'})]}),(0,t.jsx)("button",{type:"submit",disabled:u,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving...":"Continue to Family Tree"})]})})]})})}e.s(["default",()=>n,"dynamic",0,"force-dynamic"])},11737,e=>{e.v(e=>Promise.resolve().then(()=>e(6085)))}]);