(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23793,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(20755),l=e.i(49721),r=e.i(68757);let i=[{id:"primary_care",title:"Primary Care"},{id:"specialist",title:"Specialist"},{id:"pharmacy",title:"Pharmacy"},{id:"dental",title:"Dental"},{id:"vision",title:"Vision"}];function n(){let e,[n,o]=(0,a.useState)([]),[m,x]=(0,a.useState)([]),[h,u]=(0,a.useState)(null),[p,y]=(0,a.useState)(!0),[g,j]=(0,a.useState)(!1),[b,f]=(0,a.useState)(null),[v,N]=(0,a.useState)("all"),w=(0,s.createClient)();(0,a.useEffect)(()=>{_()},[]);let _=async()=>{try{let{data:{user:e}}=await w.auth.getUser();if(e){let{data:t}=await w.from("families").select("id").eq("user_id",e.id).single();t&&(u(t.id),await C(t.id),await k(t.id))}}catch(e){console.error("Error loading data:",e)}finally{y(!1)}},C=async e=>{let{data:t,error:a}=await w.from("family_members").select("*").eq("family_id",e).order("name");a?console.error("Error loading members:",a):o(t||[])},k=async e=>{let t=await w.from("healthcare_records").select("*").eq("family_id",e).order("created_at",{ascending:!1});if(t.error){console.error("Error loading healthcare records:",t.error),x([]);return}x(t.data||[])},S=async e=>{if(confirm("Are you sure you want to delete this healthcare record?"))try{let{error:t}=await w.from("healthcare_records").delete().eq("id",e);if(t)throw t;h&&await k(h)}catch(e){console.error("Error deleting record:",e),alert("Failed to delete healthcare record. Please try again.")}},A=e=>{f(e),j(!0)},P=()=>{f(null),j(!0)};return p?(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-pink-500 rounded-lg flex items-center justify-center",children:(0,t.jsx)(l.FontAwesomeIcon,{icon:r.faHeartPulse,className:"text-white text-xl"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Healthcare"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Manage healthcare information for your family"})]})]}),n.length>0&&(0,t.jsxs)("button",{onClick:P,className:"btn-primary",children:[(0,t.jsx)(l.FontAwesomeIcon,{icon:r.faPlus,className:"mr-2"}),"Add Healthcare Record"]})]}),0===n.length?(0,t.jsxs)("div",{className:"text-center py-20 card",children:[(0,t.jsx)(l.FontAwesomeIcon,{icon:r.faHeartPulse,className:"text-6xl text-gray-300 mb-4"}),(0,t.jsx)("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"No Family Members"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Add family members first to manage their healthcare information."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)("button",{onClick:()=>N("all"),className:`px-4 py-2 rounded-lg border transition-all ${"all"===v?"bg-pink-600 text-white border-pink-600 shadow-md":"bg-white text-gray-900 border-gray-200 hover:border-pink-400 hover:bg-pink-50"}`,children:[(0,t.jsx)("span",{className:"font-medium",children:"All"}),(0,t.jsxs)("span",{className:"ml-2 text-sm opacity-75",children:["(",m.length,")"]})]}),i.map(e=>{let a=m.filter(t=>t.provider_type===e.id).length;return(0,t.jsxs)("button",{onClick:()=>N(e.id),className:`px-4 py-2 rounded-lg border transition-all ${v===e.id?"bg-pink-600 text-white border-pink-600 shadow-md":"bg-white text-gray-900 border-gray-200 hover:border-pink-400 hover:bg-pink-50"}`,children:[(0,t.jsx)("span",{className:"font-medium",children:e.title}),(0,t.jsxs)("span",{className:"ml-2 text-sm opacity-75",children:["(",a,")"]})]},e.id)})]})}),0===(e="all"===v?m:m.filter(e=>e.provider_type===v)).length?(0,t.jsxs)("div",{className:"text-center py-12 card",children:[(0,t.jsx)(l.FontAwesomeIcon,{icon:r.faHeartPulse,className:"text-6xl text-gray-300 mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:0===m.length?"No Healthcare Records Yet":"No Records in This Category"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:0===m.length?"Start by adding your first healthcare provider":"Try selecting a different category or add a new record"}),(0,t.jsxs)("button",{onClick:P,className:"btn-primary",children:[(0,t.jsx)(l.FontAwesomeIcon,{icon:r.faPlus,className:"mr-2"}),0===m.length?"Add Your First Record":"Add Record"]})]}):(0,t.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsx)(d,{record:e,member:n.find(t=>t.id===e.member_id),onEdit:A,onDelete:S},e.id))})]}),(0,t.jsx)(c,{isOpen:g,onClose:()=>{j(!1),f(null)},onSave:async()=>{h&&await k(h),j(!1),f(null)},record:b,members:n,familyId:h})]})}function d({record:e,member:s,onEdit:n,onDelete:d}){let[c,o]=(0,a.useState)(!1),m=e.doctor_name||e.specialty||e.phone||e.email||e.address||e.policy_number||e.group_number||e.notes;return(0,t.jsxs)("div",{className:"card hover:shadow-lg transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.provider_name||"Healthcare Provider"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:i.find(t=>t.id===e.provider_type)?.title||e.provider_type}),s&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:s.name})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>n(e),className:"text-indigo-600 hover:text-indigo-700 p-2 rounded-lg hover:bg-indigo-50 transition-colors",children:(0,t.jsx)(l.FontAwesomeIcon,{icon:r.faEdit})}),(0,t.jsx)("button",{onClick:()=>d(e.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-colors",children:(0,t.jsx)(l.FontAwesomeIcon,{icon:r.faTrash})})]})]}),m&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("button",{onClick:()=>o(!c),className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-900",children:[(0,t.jsx)("span",{children:"View Details"}),(0,t.jsx)(l.FontAwesomeIcon,{icon:c?r.faChevronUp:r.faChevronDown})]}),c&&(0,t.jsxs)("div",{className:"mt-3 space-y-2 bg-gray-50 rounded-lg p-4",children:[e.doctor_name&&(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Doctor:"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:e.doctor_name})]}),e.specialty&&(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Specialty:"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:e.specialty})]}),e.phone&&(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:e.phone})]}),e.email&&(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:e.email})]}),e.address&&(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Address:"}),(0,t.jsxs)("span",{className:"text-gray-900 font-medium text-right",children:[e.address,e.city&&`, ${e.city}`,e.state&&`, ${e.state}`,e.zip_code&&` ${e.zip_code}`]})]}),e.policy_number&&(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Policy #:"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:e.policy_number})]}),e.group_number&&(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Group #:"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:e.group_number})]}),e.notes&&(0,t.jsx)("div",{className:"pt-2 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Notes:"}),(0,t.jsx)("p",{className:"text-gray-900 mt-1",children:e.notes})]})})]})]})]})}function c({isOpen:e,onClose:n,onSave:d,record:c,members:o,familyId:m}){let[x,h]=(0,a.useState)(""),[u,p]=(0,a.useState)("primary_care"),[y,g]=(0,a.useState)(""),[j,b]=(0,a.useState)(""),[f,v]=(0,a.useState)(""),[N,w]=(0,a.useState)(""),[_,C]=(0,a.useState)(""),[k,S]=(0,a.useState)(""),[A,P]=(0,a.useState)(""),[F,I]=(0,a.useState)(""),[E,R]=(0,a.useState)(""),[D,H]=(0,a.useState)(""),[T,q]=(0,a.useState)(""),[z,U]=(0,a.useState)(""),$=(0,s.createClient)();(0,a.useEffect)(()=>{e&&(c?(h(c.member_id),p(c.provider_type),g(c.provider_name||""),b(c.doctor_name||""),v(c.specialty||""),w(c.phone||""),C(c.email||""),S(c.address||""),P(c.city||""),I(c.state||""),R(c.zip_code||""),H(c.policy_number||""),q(c.group_number||""),U(c.notes||"")):M())},[e,c]);let M=()=>{h(o.length>0?o[0].id:""),p("primary_care"),g(""),b(""),v(""),w(""),C(""),S(""),P(""),I(""),R(""),H(""),q(""),U("")},O=async e=>{if(e.preventDefault(),x&&m){if(!y.trim())return void alert("Please enter a provider name");try{if(c){let{error:e}=await $.from("healthcare_records").update({provider_id:null,provider_name:y.trim(),provider_type:u,doctor_name:j||null,specialty:f||null,phone:N||null,email:_||null,address:k||null,city:A||null,state:F||null,zip_code:E||null,policy_number:D||null,group_number:T||null,notes:z||null,updated_at:new Date().toISOString()}).eq("id",c.id);if(e)throw e;c.id}else{let{data:e,error:t}=await $.from("healthcare_records").insert({family_id:m,member_id:x,provider_id:null,provider_name:y.trim(),provider_type:u,doctor_name:j||null,specialty:f||null,phone:N||null,email:_||null,address:k||null,city:A||null,state:F||null,zip_code:E||null,policy_number:D||null,group_number:T||null,notes:z||null}).select().single();if(t)throw t;e.id}M(),d()}catch(e){console.error("Error saving healthcare record:",e),alert("Failed to save healthcare record. Please try again.")}}};return e?(0,t.jsx)("div",{className:"fixed inset-0 bg-white/75 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:c?"Edit Healthcare Record":"Add Healthcare Record"}),(0,t.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)(l.FontAwesomeIcon,{icon:r.faTimes,className:"text-xl"})})]}),(0,t.jsxs)("form",{onSubmit:O,className:"p-6 space-y-6",children:[!c&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Family Member *"}),(0,t.jsxs)("select",{value:x,onChange:e=>h(e.target.value),className:"input-field",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select a family member"}),o.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provider Type *"}),(0,t.jsx)("select",{value:u,onChange:e=>{p(e.target.value)},className:"input-field",required:!0,children:i.map(e=>(0,t.jsx)("option",{value:e.id,children:e.title},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provider Name *"}),(0,t.jsx)("input",{type:"text",value:y,onChange:e=>g(e.target.value),className:"input-field",placeholder:"Enter provider name",required:!0})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doctor Name"}),(0,t.jsx)("input",{type:"text",value:j,onChange:e=>b(e.target.value),className:"input-field",placeholder:"Dr. John Smith"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialty"}),(0,t.jsx)("input",{type:"text",value:f,onChange:e=>v(e.target.value),className:"input-field",placeholder:"Cardiology, Pediatrics, etc."})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,t.jsx)("input",{type:"tel",value:N,onChange:e=>w(e.target.value),className:"input-field",placeholder:"(555) 123-4567"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,t.jsx)("input",{type:"email",value:_,onChange:e=>C(e.target.value),className:"input-field",placeholder:"doctor@example.com"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,t.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),className:"input-field",placeholder:"123 Main St"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,t.jsx)("input",{type:"text",value:A,onChange:e=>P(e.target.value),className:"input-field",placeholder:"New York"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),(0,t.jsx)("input",{type:"text",value:F,onChange:e=>I(e.target.value),className:"input-field",placeholder:"NY"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),(0,t.jsx)("input",{type:"text",value:E,onChange:e=>R(e.target.value),className:"input-field",placeholder:"10001"})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Policy Number"}),(0,t.jsx)("input",{type:"text",value:D,onChange:e=>H(e.target.value),className:"input-field",placeholder:"Insurance policy number"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group Number"}),(0,t.jsx)("input",{type:"text",value:T,onChange:e=>q(e.target.value),className:"input-field",placeholder:"Insurance group number"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,t.jsx)("textarea",{value:z,onChange:e=>U(e.target.value),className:"input-field",rows:3,placeholder:"Additional notes..."})]}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-6 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"button",onClick:n,className:"flex-1 btn-secondary",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 btn-primary",children:c?"Update Record":"Add Record"})]})]})]})}):null}e.s(["default",()=>n,"dynamic",0,"force-dynamic"])}]);