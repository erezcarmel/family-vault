(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6085,e=>{"use strict";var s="undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g;let a=s.fetch,t=s.fetch.bind(s),l=s.Headers,i=s.Request,n=s.Response;e.s(["Headers",0,l,"Request",0,i,"Response",0,n,"default",0,t,"fetch",0,a])},18566,(e,s,a)=>{s.exports=e.r(76562)},21115,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(20755),l=e.i(18566),i=e.i(49721),n=e.i(68757);function r(){let[e,r]=(0,a.useState)([]),[d,o]=(0,a.useState)({name:"",email:"",relationship:""}),[m,c]=(0,a.useState)(null),[h,x]=(0,a.useState)(!1),u=(0,l.useRouter)(),p=(0,t.createClient)(),b=()=>{u.push("/dashboard")},f=async()=>{if(0===e.length)return void b();c(null),x(!0);try{let{data:{user:s}}=await p.auth.getUser();if(!s)throw Error("No user found");let{data:a}=await p.from("families").select("id").eq("user_id",s.id).single();if(!a)throw Error("Family not found");let t=e.map(e=>({family_id:a.id,name:e.name,email:e.email||null,relationship:e.relationship})),{error:l}=await p.from("family_members").insert(t);if(l)throw l;u.push("/dashboard")}catch(e){c(e.message||"An error occurred while saving family members")}finally{x(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-4 py-12",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Build Your Family Tree"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Add your family members (you can skip this and add them later)"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Add Family Member"}),m&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-4",children:m}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(i.FontAwesomeIcon,{icon:n.faUser,className:"text-gray-400"})}),(0,s.jsx)("input",{id:"name",type:"text",value:d.name,onChange:e=>o({...d,name:e.target.value}),className:"input-field pl-10",placeholder:"Family member name"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (Optional)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(i.FontAwesomeIcon,{icon:n.faCake,className:"text-gray-400"})}),(0,s.jsx)("input",{id:"email",type:"email",value:d.email,onChange:e=>o({...d,email:e.target.value}),className:"input-field pl-10",placeholder:"member@example.com"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"relationship",className:"block text-sm font-medium text-gray-700 mb-2",children:"Relationship"}),(0,s.jsxs)("select",{id:"relationship",value:d.relationship,onChange:e=>o({...d,relationship:e.target.value}),className:"input-field",children:[(0,s.jsx)("option",{value:"",children:"Select relationship"}),["Spouse","Parent","Child","Sibling","Grandparent","Grandchild","Aunt/Uncle","Cousin","Other"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>{d.name&&d.relationship&&(r([...e,d]),o({name:"",email:"",relationship:""}))},disabled:!d.name||!d.relationship,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)(i.FontAwesomeIcon,{icon:n.faPlus,className:"mr-2"}),"Add Member"]})]})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Family Members (",e.length,")"]}),0===e.length?(0,s.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,s.jsx)(i.FontAwesomeIcon,{icon:n.faUser,className:"text-4xl mb-4"}),(0,s.jsx)("p",{children:"No family members added yet"})]}):(0,s.jsx)("div",{className:"space-y-3",children:e.map((a,t)=>(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900",children:a.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:a.relationship}),a.email&&(0,s.jsx)("p",{className:"text-xs text-gray-500",children:a.email})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{r(e.filter((e,s)=>s!==t))},className:"text-red-600 hover:text-red-700 transition-colors",children:(0,s.jsx)(i.FontAwesomeIcon,{icon:n.faTrash})})]},t))})]})]}),(0,s.jsxs)("div",{className:"mt-8 flex justify-center space-x-4",children:[(0,s.jsx)("button",{type:"button",onClick:b,className:"btn-secondary",children:"Skip for Now"}),(0,s.jsx)("button",{type:"button",onClick:f,disabled:h,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Saving...":(0,s.jsxs)(s.Fragment,{children:["Continue to Dashboard",(0,s.jsx)(i.FontAwesomeIcon,{icon:n.faArrowRight,className:"ml-2"})]})})]})]})})}e.s(["default",()=>r,"dynamic",0,"force-dynamic"])},11737,e=>{e.v(e=>Promise.resolve().then(()=>e(6085)))}]);